# -*- mode: ruby -*-
# vi: set ft=ruby :
VAGRANTFILE_API_VERSION ||= '2'

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  config.vm.box = 'coreos-beta'
  config.vm.box_version = '>= 308.0.1'
  config.vm.box_url = 'http://beta.release.core-os.net/amd64-usr/current/coreos_production_vagrant.json'
  config.vm.synced_folder '.', '/vagrant', nfs: true, mount_options: ['nolock,vers=3,udp'], type: :nfs
  config.vm.network 'private_network', ip: '10.1.2.9'
  config.vm.network 'forwarded_port', guest: 8081, host: 8081

  config.vm.provider :virtualbox do |v|
    v.check_guest_additions = false
    v.functional_vboxsf = false
    v.gui = false
    v.memory = 512
    v.cpus = 2
  end

  if Vagrant.has_plugin?('vagrant-vbguest')
    config.vbguest.auto_update = false
  end
end
